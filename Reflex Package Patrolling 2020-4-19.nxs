{"name":"patrolling","enabled":true,"description":"detects missing plants and can be configured to automatically harvest plants","type":"group","id":1,"items":[{"type":"group","name":"Patrolling","enabled":true,"id":2,"items":[{"type":"trigger","name":"","enabled":true,"id":3,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A goldenseal wildflower is here.","actions":[{"action":"variable","varname":"@patrolGoldenseal","valtype":"value","value":"true","op":"set"},{"action":"if","cond-type1":"variable","cond-val1":"@harvestGoldenseal","cond-type2":"value","cond-val2":"true","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"stop","dothenlabel":"","doelselabel":""},{"action":"command","command":"harvest goldenseal"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":4,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A yellow lady's slipper plant prospers here.","actions":[{"action":"variable","varname":"@patrolSlipper","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":5,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"Heavy ears of grain nod among the surrounding grasses.","actions":[{"action":"variable","varname":"@patrolGrain","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":6,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"Razor-sharp leaves of sugarcane cluster here.","actions":[{"action":"variable","varname":"@patrolSugarcane","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":7,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A purple coneflower grows here, its large stalk straining towards the sky.","actions":[{"action":"variable","varname":"@patrolEchinacea","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":8,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A low-lying wild ginger plant is growing here.","actions":[{"action":"variable","varname":"@patrolGinger","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":9,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A lobelia wildflower is growing here.","actions":[{"action":"variable","varname":"@patrolLobelia","valtype":"value","value":"true","op":"set"},{"action":"if","cond-type1":"variable","cond-val1":"@harvestLobelia","cond-type2":"value","cond-val2":"true","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"stop","dothenlabel":"","doelselabel":""},{"action":"command","command":"harvest lobelia"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":10,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A low-slung myrrh bush is here.","actions":[{"action":"variable","varname":"@patrolMyrrh","valtype":"value","value":"true","op":"set"},{"action":"if","cond-type1":"variable","cond-val1":"@harvestMyrrh","cond-type2":"value","cond-val2":"true","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"stop","dothenlabel":"","doelselabel":""},{"action":"command","command":"harvest myrrh"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":11,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A green-flowered ginseng plant has been planted here.","actions":[{"action":"variable","varname":"@patrolGinseng","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":12,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A red elm tree grows here, its branches gently swaying in the breeze.","actions":[{"action":"variable","varname":"@patrolElm","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":13,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A burdock plant is growing here.","actions":[{"action":"variable","varname":"@patrolBurdock","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":14,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A nearby branch is laden with hard-shelled nuts.","actions":[{"action":"variable","varname":"@patrolNuts","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":15,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"Growing here is a downy skullcap.","actions":[{"action":"variable","varname":"@patrolSkullcap","valtype":"value","value":"true","op":"set"},{"action":"if","cond-type1":"variable","cond-val1":"@harvestSkullcap","cond-type2":"value","cond-val2":"true","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"continue","dothenlabel":"","doelselabel":""},{"action":"command","command":"harvest skullcap"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":16,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A kola tree is growing here.","actions":[{"action":"variable","varname":"@patrolKola","valtype":"value","value":"true","op":"set"},{"action":"if","cond-type1":"variable","cond-val1":"@harvestKola","cond-type2":"value","cond-val2":"true","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"stop","dothenlabel":"","doelselabel":""},{"action":"command","command":"harvest kola"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":17,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A maze of kuzu vines winds its way through the trees.","actions":[{"action":"variable","varname":"@patrolKuzu","valtype":"value","value":"true","op":"set"},{"action":"if","cond-type1":"variable","cond-val1":"@harvestKuzu","cond-type2":"value","cond-val2":"true","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"stop","dothenlabel":"","doelselabel":""},{"action":"command","command":"harvest kuzu"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":18,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A cacao tree is growing here.","actions":[{"action":"variable","varname":"@patrolCacao","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":19,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A selection of fruits dangles from nearby branches.","actions":[{"action":"variable","varname":"@patrolFruit","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":20,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A prickly ash tree is growing here.","actions":[{"action":"variable","varname":"@patrolAsh","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":21,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A bellwort flower is growing here.","actions":[{"action":"variable","varname":"@patrolBellwort","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":22,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A black cohosh plant is here.","actions":[{"action":"variable","varname":"@patrolCohosh","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":23,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A bayberry tree grows here.","actions":[{"action":"variable","varname":"@patrolBayberry","valtype":"value","value":"true","op":"set"},{"action":"if","cond-type1":"variable","cond-val1":"@harvestBayberry","cond-type2":"value","cond-val2":"true","cond-op":"eq","cond-mod":"","cond-cs":false,"dothen":"continue","doelse":"stop","dothenlabel":"","doelselabel":""},{"action":"command","command":"harvest bayberry"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":24,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"Covered with spines, a hawthorn bush is growing.","actions":[{"action":"variable","varname":"@patrolHawthorn","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":25,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A lush sileris plant is growing nearby.","actions":[{"action":"variable","varname":"@patrolSileris","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":26,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"An olive tree is growing here.","actions":[{"action":"variable","varname":"@patrolOlive","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"","enabled":true,"id":27,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"A kelp plant waves in the currents.","actions":[{"action":"variable","varname":"@patrolKelp","valtype":"value","value":"true","op":"set"}],"items":[]},{"type":"trigger","name":"Patrolling Wrap Up","enabled":true,"id":28,"matching":"substring","whole_words":true,"case_sensitive":true,"text":"(You see a single exit.*|You see exits.*)","actions":[{"action":"function","fn":"PatrolWrapUp"}],"items":[]}],"actions":[]},{"type":"function","name":"PatrolWrapUp","enabled":true,"id":29,"code":"//Enter the function here\n\nall_clear = true;\nplant_present = 'false'; //toggle to true for testing, false for finding missing only\n\nif (get_variable('patrolEnvironment') == 'Grasslands')\n{\n    \n    client.print(\"hello grasslands\");\n    \n    if (get_variable('patrolGoldenseal') == plant_present)\n    {\n       display_notice(\"Missing goldenseal\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolSlipper') == plant_present)\n    {\n       display_notice(\"Missing slipper\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolGrain') == plant_present)\n    {\n       display_notice(\"Missing grain\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolSugarcane') == plant_present)\n    {\n       display_notice(\"Missing sugarcane\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n};\n\n\nif (get_variable('patrolEnvironment') == 'Hills')\n{\n    client.print(\"hello Hills\");\n    \n    if (get_variable('patrolBayberry') == plant_present)\n    {\n       display_notice(\"Missing bayberry\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolHawthorn') == plant_present)\n    {\n       display_notice(\"Missing hawthorn\", \"red\", \"black\");\n       all_clear = false;\n    };\n\n    \n      \n};\n\nif (get_variable('patrolEnvironment') == 'Ocean' || get_variable('patrolEnvironment') == 'Freshwater')\n{\n    client.print(\"hello Ocean\");\n    \n    if (get_variable('patrolKelp') == plant_present)\n    {\n       display_notice(\"Missing kelp\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n      \n};\n\n\n\n\nif (get_variable('patrolEnvironment') == 'Forest')\n{\n    \n    client.print(\"hello forest\");\n    \n    if (get_variable('patrolEchinacea') == plant_present)\n    {\n       display_notice(\"Missing echinacea\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolGinger') == plant_present)\n    {\n       display_notice(\"Missing ginger\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolLobelia') == plant_present)\n    {\n       display_notice(\"Missing lobelia\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolMyrrh') == plant_present)\n    {\n       display_notice(\"Missing myrrh\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolGinseng') == plant_present)\n    {\n       display_notice(\"Missing ginseng\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolElm') == plant_present)\n    {\n       display_notice(\"Missing elm\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolBurdock') == plant_present)\n    {\n       display_notice(\"Missing burdock\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolNuts') == plant_present)\n    {\n       display_notice(\"Missing nuts\", \"red\", \"black\");\n       all_clear = false;\n    };\n     \n};\n\n\n\nif (get_variable('patrolEnvironment') == 'Jungle')\n{\n    \n    client.print(\"hello jungle\");\n    \n    if (get_variable('patrolSkullcap') == plant_present)\n    {\n       display_notice(\"Missing skullcap\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolKola') == plant_present)\n    {\n       display_notice(\"Missing kola\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolKuzu') == plant_present)\n    {\n       display_notice(\"Missing kuzu\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolCacao') == plant_present)\n    {\n       display_notice(\"Missing cacao\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolFruit') == plant_present)\n    {\n       display_notice(\"Missing fruit\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n};\n\n\nif (get_variable('patrolEnvironment') == 'Swamp')\n{\n    \n    client.print(\"hello swamp\");\n    \n    if (get_variable('patrolAsh') == plant_present)\n    {\n       display_notice(\"Missing ash\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolBellwort') == plant_present)\n    {\n       display_notice(\"Missing bellwort\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolCohosh') == plant_present)\n    {\n       display_notice(\"Missing cohosh\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n};\n\nif (get_variable('patrolEnvironment') == 'Valley')\n{\n    \n    client.print(\"hello valley\");\n    \n    if (get_variable('patrolSileris') == plant_present)\n    {\n       display_notice(\"Missing sileris\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    if (get_variable('patrolOlive') == plant_present)\n    {\n       display_notice(\"Missing olive\", \"red\", \"black\");\n       all_clear = false;\n    };\n    \n    \n};\n\n\n\n\nif (all_clear)\n{\n    display_notice(\"All Clear!\", \"blue\", \"black\");\n    \n};\n\n\n\n","items":[]}]}